import{_ as f,s as b,r as l,c as n,a as i,v as p,x as w,y as v,t as h,z as y,o as u}from"./DV93emuu.js";import{c as k}from"./ibMq-yxt.js";const x={class:"admin-login"},B={key:0,class:"error-msg"},C=["disabled"],M={key:0},V={key:1},E={__name:"login",setup(P){const c=b(),m=y(),g=k(c.public.supabaseUrl,c.public.supabaseAnonKey),t=l(""),o=l(""),s=l(""),a=l(!1),_=async()=>{if(s.value="",a.value=!0,!t.value||!o.value){s.value="Bitte E-Mail und Passwort eingeben.",a.value=!1;return}const{error:r}=await g.auth.signInWithPassword({email:t.value,password:o.value});a.value=!1,r?s.value="Login fehlgeschlagen: "+r.message:m.push("/admin-bewerbung")};return(r,e)=>(u(),n("div",x,[e[2]||(e[2]=i("h2",null,"Login",-1)),p(i("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>t.value=d),type:"email",placeholder:"E-Mail"},null,512),[[v,t.value]]),p(i("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>o.value=d),type:"password",placeholder:"Passwort"},null,512),[[v,o.value]]),s.value?(u(),n("div",B,h(s.value),1)):w("",!0),i("button",{disabled:a.value,onClick:_},[a.value?(u(),n("span",M,"Bitte warten...")):(u(),n("span",V,"Anmelden"))],8,C)]))}},D=f(E,[["__scopeId","data-v-f440b7a8"]]);export{D as default};
